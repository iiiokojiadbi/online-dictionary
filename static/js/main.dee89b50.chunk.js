(this["webpackJsonponline-dictionary"]=this["webpackJsonponline-dictionary"]||[]).push([[0],{18:function(e,t,a){e.exports={header:"Header_header__1VCKf",link:"Header_link__2wI74",active:"Header_active__vmCnS"}},2:function(e,t,a){e.exports={popup:"InfoPopup_popup__3iz_X",popupDisabled:"InfoPopup_popupDisabled__2M0Lg",container:"InfoPopup_container__stU4w",close:"InfoPopup_close__3p1Hj",info:"InfoPopup_info__1xa1Q",title:"InfoPopup_title__2SMmD",center:"InfoPopup_center__NTSv9",list:"InfoPopup_list__1ZAT1",spelling:"InfoPopup_spelling__2ZqOa",itemList:"InfoPopup_itemList__1RgR_",accent:"InfoPopup_accent___lff8",partOfSpeech:"InfoPopup_partOfSpeech__1tg6L",definition:"InfoPopup_definition__bXoqs"}},27:function(e,t,a){e.exports={searchPanel:"SearchPanel_searchPanel__3T86m",wrapper:"SearchPanel_wrapper__3u7e8"}},33:function(e,t,a){e.exports={app:"App_app__1IksY"}},35:function(e,t,a){e.exports={wordBoard:"WordBoard_wordBoard__26mTm"}},36:function(e,t,a){e.exports={input:"Input_input__3PNbO"}},37:function(e,t,a){e.exports={listItems:"ListItems_listItems__3UYJd"}},38:function(e,t,a){e.exports=a(50)},44:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(32),s=a.n(c),o=a(17),i=a(7),l=a.n(i),u=a(13),d=a(15),p=a(11),f=a(12),m=a(16),h=a(23),_=a(22),v=a(1),b=a(33),g=a.n(b),S=(a(44),function e(){var t=this;Object(f.a)(this,e),this._baseUrl="https://wordsapiv1.p.rapidapi.com/words",this._baseHeaders={"x-rapidapi-host":"wordsapiv1.p.rapidapi.com","x-rapidapi-key":"c83ecd7197msh753cd144a215978p1637dfjsnf0d0ef5beb95"},this._limitWords="limit=10",this._countPage="page=1",this._pronunciationPattern="pronunciationpattern=.*\xe6m$",this._getBaseResource=function(){var e=Object(u.a)(l.a.mark((function e(a){var n,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.url,e.next=3,fetch("".concat(t._baseUrl,"/").concat(n),{method:"GET",headers:t._baseHeaders});case 3:if((r=e.sent).ok){e.next=6;break}throw new Error("Could not fetch ".concat(n,", received ").concat(r.status));case 6:return e.next=8,r.json();case 8:return c=e.sent,e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getListWords=function(){var e=Object(u.a)(l.a.mark((function e(a){var n,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.word,r="?letterPattern=^".concat(n,"&").concat(t._pronunciationPattern,"&").concat(t._limitWords,"&").concat(t._countPage),e.t0=t,e.next=5,t._getBaseResource({url:r});case 5:return e.t1=e.sent,c=e.t0._transformListItem.call(e.t0,e.t1),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getInfoWord=function(){var e=Object(u.a)(l.a.mark((function e(a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._getBaseResource({url:a});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._transformListItem=function(e){return e.results.data}}),O=a(18),E=a.n(O),w=function(e){var t=e.toggleKeeper,a=e.toggleStarred;return r.a.createElement("header",{className:E.a.header},r.a.createElement(o.b,{activeClassName:E.a.active,className:E.a.link,exact:!0,to:"/online-dictionary/",onClick:t},"Word Keeper"),r.a.createElement(o.b,{activeClassName:E.a.active,className:E.a.link,to:"/online-dictionary/starred",onClick:a},"Starred Words"))},j=a(35),N=a.n(j),I=a(27),k=a.n(I),C=a(10),x=a(36),P=a.n(x),W=r.a.createContext(),y=r.a.createContext(),D=function(){var e=Object(n.useContext)(W),t=e.handleChangeSearch,a=e.inputWord,c=void 0===a?"":a,s=Object(n.useContext)(y),o=Object(n.useState)(c),i=Object(C.a)(o,2),l=i[0],u=i[1],d=Object(n.useState)(!0),p=Object(C.a)(d,2),f=p[0],m=p[1],h=Object(n.useState)(null),_=Object(C.a)(h,2),v=_[0],b=_[1];Object(n.useEffect)((function(){f||s||(t({word:l}),m(!0)),s&&t({word:l})}),[l,f,s]);return r.a.createElement("input",{className:P.a.input,placeholder:"Type to search",value:l,onChange:function(e){var t=e.target.value;if(u(t),!s){clearTimeout(v);var a=setTimeout((function(){return m(!1)}),1500);b(a)}}})},L=a(9),T=a.n(L),B=r.a.createContext(),R=function(){var e=Object(n.useContext)(B),t=Object(n.useState)(""),a=Object(C.a)(t,2),c=a[0],s=a[1];Object(n.useEffect)((function(){e({pathOfSpeech:c})}),[c,e]);var o=function(e){var t=e.target.value;s(c===t?"":t)};return r.a.createElement("div",{className:T.a.filterSpeech},r.a.createElement("label",{className:T.a.label},r.a.createElement("input",{className:T.a.checkbox,name:"pathofspeech",type:"checkbox",value:"noun",checked:"noun"===c,onChange:o}),r.a.createElement("span",{className:T.a.title},"noun")),r.a.createElement("label",{className:T.a.label},r.a.createElement("input",{className:T.a.checkbox,name:"pathofspeech",type:"checkbox",value:"verb",checked:"verb"===c,onChange:o}),r.a.createElement("span",{className:T.a.title},"verb")),r.a.createElement("label",{className:T.a.label},r.a.createElement("input",{className:T.a.checkbox,name:"pathofspeech",type:"checkbox",value:"adjective",checked:"adjective"===c,onChange:o}),r.a.createElement("span",{className:T.a.title},"adjective")))},U=function(){var e=Object(n.useContext)(y)?r.a.createElement(R,null):null;return r.a.createElement("div",{className:k.a.searchPanel},r.a.createElement("div",{className:k.a.wrapper},r.a.createElement(D,null),e))},A=a(37),F=a.n(A),K=a(6),H=a.n(K),J=function(e){var t=e.word,a=e.results,c=e.starred,s=e.draggable,o=e.handleClickStar,i=e.handleOpenInfo,l=e.isEmpty,u=void 0!==l&&l,d=Object(n.useContext)(y);return u?d&&u?r.a.createElement("li",{className:H.a.item},r.a.createElement("span",{className:H.a.findStar},"Starred words were not found. Check the filters or find new words for the starred list")):u?r.a.createElement("li",{className:H.a.item},r.a.createElement("span",{className:H.a.findStar},"Start searching for interesting words")):void 0:r.a.createElement("li",{id:t,onDragStart:function(e){e.dataTransfer.setData("card_id",e.target.id),e.target.classList.add("dragging")},onDragOver:function(e){e.stopPropagation()},onDragEnd:function(e){e.target.classList.remove("dragging")},draggable:s,className:"".concat(H.a.item," ").concat(s?"draggable":"")},function(e){var a=(void 0!==e?e[0]:null)||{partOfSpeech:"missing",definition:"is missing"},n=a.partOfSpeech,s=a.definition;return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement("div",{className:H.a.burger}),r.a.createElement("div",{className:H.a.brief,onClick:i},r.a.createElement("span",{className:H.a.name},t),r.a.createElement("span",{className:H.a.part},n),r.a.createElement("span",{className:H.a.definition},"Definition: ",s)),r.a.createElement("button",{type:"button",onClick:o,className:"".concat(H.a.star," ").concat(c?H.a.star__active:null)}))}(a))},q=r.a.createContext(),M=r.a.createContext(),V=r.a.createContext(),X=function(){var e=Object(n.useContext)(q),t=Object(n.useContext)(M),a=t.handleStarredWord,c=t.handleUpdateStorageStarred,s=Object(n.useContext)(V),o=Object(n.useContext)(y),i=Object(n.useState)(0),l=Object(C.a)(i,2),u=l[0],d=l[1],f=Object(n.useState)(""),m=Object(C.a)(f,2),h=m[0],_=m[1],v=Object(n.useCallback)(c);Object(n.useEffect)((function(){o&&h&&u&&v({newPostion:u,elementDrop:h})}),[h,u]);var b=e?e.map((function(e){return r.a.createElement(J,Object.assign({key:e.word},e,{draggable:o,handleClickStar:function(){a({word:e})},handleOpenInfo:function(){s({word:e})}}))})):null,g=b.length?b:r.a.createElement(J,{isEmpty:!0});return r.a.createElement("ul",{className:F.a.listItems,onDrop:function(t){if(o){t.preventDefault();var a=t.dataTransfer.getData("card_id"),n=document.getElementById(a),r=(i=t.target,l=t.clientY,function(e){return Object(p.a)(e.querySelectorAll(".draggable:not(.dragging)"))}(i).reduce((function(e,t){var a=t.getBoundingClientRect(),n=l-a.top-a.height/2;return n<0&&n>e.offset?{offset:n,element:t}:e}),{offset:Number.NEGATIVE_INFINITY})).element;null==r?t.target.appendChild(n):t.target.insertBefore(n,r);var c=e.find((function(e){return e.word===n.id})),s=e.findIndex((function(e){return e.word===r.id}));_(c),d(s)}var i,l},onDragOver:function(e){e.preventDefault()},onDragEnd:function(e){e.preventDefault()},id:"container"},g)};var Y=function(e){Object(h.a)(a,e);var t=Object(_.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{className:N.a.wordBoard},r.a.createElement(U,null),r.a.createElement(X,null))}}]),a}(n.Component),Z=a(2),G=a.n(Z);var Q=function(e){var t=e.word,a=e.pronunciation,c=e.results,s=e.onClose,o=e.isOpen;Object(n.useEffect)((function(){var e=function(e){"Escape"===e.key&&s()};return o&&document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[o,s]);var i=(null===a||void 0===a?void 0:a.all)||"";return r.a.createElement("section",{className:"".concat(G.a.popup," ").concat(o?"":G.a.popupDisabled),onClick:function(e){e.target.classList.contains(G.a.popup)&&s()}},r.a.createElement("div",{className:G.a.container},r.a.createElement("button",{type:"button",className:G.a.close,onClick:s}),r.a.createElement("div",{className:G.a.info},r.a.createElement("h2",{className:"".concat(G.a.title," ").concat(!i&&G.a.center)},t),i&&r.a.createElement("span",{className:G.a.spelling},i),r.a.createElement("ul",{className:G.a.list},c?c.map((function(e,t){return r.a.createElement("li",{key:t,className:G.a.itemList},r.a.createElement("span",{className:G.a.partOfSpeech},r.a.createElement("span",{className:G.a.accent}," Path of speech: "),e.partOfSpeech),r.a.createElement("span",{className:G.a.definition},r.a.createElement("span",{className:G.a.accent},"Definition: "),e.definition))})):r.a.createElement("li",{className:G.a.itemList},r.a.createElement("span",{className:G.a.partOfSpeech},r.a.createElement("span",{className:G.a.accent}," Path of speech: "),"is missing"),r.a.createElement("span",{className:G.a.definition},r.a.createElement("span",{className:G.a.accent},"Definition: "),"is missing"))))))},z=function(){function e(){Object(f.a)(this,e)}return Object(m.a)(e,[{key:"refreshStorage",value:function(e,t){localStorage[e]=JSON.stringify(t)}},{key:"getData",value:function(e){return JSON.parse(localStorage[e])}},{key:"getInitialData",value:function(){return{starredWords:this.getData("starredWords")}}},{key:"initialRender",value:function(){localStorage.starredWords||this.refreshStorage("starredWords",[])}}]),e}(),$=a(28),ee=a.n($),te=function(e){Object(h.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r)))._api=new S,e._storage=new z,e.state={listWords:[],starredWords:[],filterPathOfSpeech:"",isInfoPopupOpen:!1,isStarred:!1},e.handleRefreshStorageStarredWords=function(t){var a=t.newPostion,n=t.elementDrop,r=e.state.starredWords,c=r.find((function(e){return e.word===n.word})),s=r.filter((function(e){return e.word!==c.word})),o=s.slice(0,a),i=s.slice(a,r.length);e.setState({starredWords:[].concat(Object(p.a)(o),[c],Object(p.a)(i))})},e.handleSetPathOfSpeech=function(t){var a=t.pathOfSpeech;e.setState({filterPathOfSpeech:a})},e.handleChangeSearchWord=function(t){var a=t.word;e.setState({word:a})},e.handleChangeOnKeeper=function(){e.setState({isStarred:!1})},e.handleChangeOnStarred=function(){e.setState({isStarred:!0})},e.handleStarredWord=function(t){var a=t.word;if(a.starred){var n=e.state.starredWords.filter((function(e){return e.word!==a.word}));e.setState({starredWords:Object(p.a)(n)})}else e.setState({starredWords:[].concat(Object(p.a)(e.state.starredWords),[Object(d.a)(Object(d.a)({},a),{},{starred:!0})])})},e.handleClickWord=function(t){var a=t.word;e.handleInfoPopupOpen(),e.setState({wordInfo:a})},e.handleInfoPopupOpen=function(){e.setState({isInfoPopupOpen:!0})},e.handleClosePopup=function(){e.setState({isInfoPopupOpen:!1})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this._storage.initialRender();var e=this._storage.getInitialData().starredWords;this.setState({starredWords:e,word:"",isStarred:"/online-dictionary/starred"===window.location.pathname,wordInfo:null})}},{key:"componentDidUpdate",value:function(e,t){""!==this.state.word&&this.state.word!==t.word&&!1===this.state.isStarred&&this.refreshListWords(),this.state.starredWords!==t.starredWords&&this._storage.refreshStorage("starredWords",this.state.starredWords)}},{key:"refreshListWords",value:function(){var e=this,t=this.state.word;this.setState({listWords:[]}),this._api.getListWords({word:t}).then(function(){var t=Object(u.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.map(function(){var t=Object(u.a)(l.a.mark((function t(a){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=d.a,t.t1=d.a,t.t2={},t.next=5,e._api.getInfoWord(a);case 5:t.t3=t.sent,t.t4=(0,t.t1)(t.t2,t.t3),t.t5={},t.t6={starred:!1},n=(0,t.t0)(t.t4,t.t5,t.t6),e.setState({listWords:[].concat(Object(p.a)(e.state.listWords),[n])});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"render",value:function(){var e,t,a,n=this.state,c=n.listWords,s=n.starredWords,o=n.word,i=n.isStarred,l=n.filterPathOfSpeech,u=n.isInfoPopupOpen,f=n.wordInfo,m=(e=c,t=o,ee.a.uniqWith(Object(p.a)(e).sort((function(e,t){return e.word<t.word?-1:1})).filter((function(e){return e.word.includes(t)})).slice(-10),ee.a.isEqual)),h=(a=s,m.map((function(e){var t=a.find((function(t){return e.word===t.word}));return t?Object(d.a)(Object(d.a)({},t),{},{starred:!0}):e}))),_=function(e){var t=e.items,a=e.filter;return t.filter((function(e){var t=((void 0!==e.results?e.results[0]:null)||{partOfSpeech:"missing"}).partOfSpeech;switch(a){case"noun":case"verb":case"adjective":return t===a;default:return!0}}))}({items:i?function(e,t){return e.filter((function(e){return""===t||e.word.includes(t)}))}(s,o):s,filter:l});return r.a.createElement("div",{className:g.a.app},r.a.createElement(w,{toggleKeeper:this.handleChangeOnKeeper,toggleStarred:this.handleChangeOnStarred}),r.a.createElement(v.c,null,r.a.createElement(V.Provider,{value:this.handleClickWord},r.a.createElement(y.Provider,{value:i},r.a.createElement(W.Provider,{value:{inputWord:o,handleChangeSearch:this.handleChangeSearchWord}},r.a.createElement(M.Provider,{value:{handleStarredWord:this.handleStarredWord,handleUpdateStorageStarred:this.handleRefreshStorageStarredWords}},r.a.createElement(B.Provider,{value:this.handleSetPathOfSpeech},r.a.createElement(v.a,{exact:!0,path:"/online-dictionary/"},r.a.createElement(q.Provider,{value:h},r.a.createElement(Y,null))),r.a.createElement(v.a,{path:"/online-dictionary/starred"},r.a.createElement(q.Provider,{value:_},r.a.createElement(Y,null))))))),r.a.createElement(Q,Object.assign({isOpen:u,onClose:this.handleClosePopup},f)))))}}]),a}(n.Component);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,null,r.a.createElement(te,null))),document.getElementById("root"))},6:function(e,t,a){e.exports={item:"ItemList_item__Im1Dn",name:"ItemList_name__3Fte5",part:"ItemList_part__1SLEX",brief:"ItemList_brief__3AA3U",findStar:"ItemList_findStar__2xANc",definition:"ItemList_definition__1hT9O",star:"ItemList_star__3DKi3",burger:"ItemList_burger__7uCXD",star__active:"ItemList_star__active__39PQE"}},9:function(e,t,a){e.exports={filterSpeech:"FilterSpeech_filterSpeech__1oyVS",label:"FilterSpeech_label__3vJp-",checkbox:"FilterSpeech_checkbox__2VZs-",title:"FilterSpeech_title__3U2Bc"}}},[[38,1,2]]]);
//# sourceMappingURL=main.dee89b50.chunk.js.map